<ion-grid class="o-grid  u-nospace">
  <ion-row>
    <ion-col class="u-nospace">
      <ion-item lines="none" class="c-search  ion-no-padding">
        <ion-input type="search" placeholder="Search..." id="term" name="term" (input)="search(searchBox.value)" #searchBox></ion-input>
        <ion-icon title="Search" name="search-outline" (click)="search(searchBox.value)"></ion-icon>
      </ion-item>
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col size="12">
      <app-counter [counter]="allFavorites.length" [text]="{ plural:'favorites', single: 'favorite' }" *ngIf="allFavorites && allFavorites?.length > 0"></app-counter> 
    </ion-col>
  </ion-row>
  <ion-row>
    <ion-col class="u-nospace">
      <!--<span class="c-message  c-message--error" *ngIf="allFavorites?.length === 0">No favorites found.</span>-->
      <ion-list class="c-list  c-list--columns  c-list--min-height" *ngIf="allFavorites">
        <ion-item-sliding *ngFor="let favorite of allFavorites; trackBy: trackByFn">
          <ion-item-options side="start">
            <ion-item-option color="secondary" [title]="'Edit ' + favorite.title" [routerLink]="'/favorites/edit/' + favorite.slug" [queryParams]="{ id: favorite.id }">
              <ion-icon name="create-outline"></ion-icon>
            </ion-item-option>
          </ion-item-options>
          <ion-item lines="none" [title]="favorite.title" [href]="favorite.url" (click)="incrementCounter(favorite)" target="_blank">
            <ion-avatar slot="start" [title]="favorite.category.title">
              <img [src]="'assets/logos/' + favorite.category.slug + '.jpg'" [alt]="'Logo ' + favorite.category.slug" appImageFallback>
            </ion-avatar>
            <ion-label>
              <h2>{{ favorite.title }}</h2>
              <p>{{ favorite.description  | truncate: [74] }}</p>
            </ion-label>
            <ion-icon name="chevron-forward-outline"></ion-icon>
          </ion-item>
          <ion-item-options side="end">
            <ion-item-option color="danger" [title]="'Delete ' + favorite.title" (click)="favoriteDelete(favorite)">
              <ion-icon name="trash-outline"></ion-icon>
            </ion-item-option>
          </ion-item-options>
        </ion-item-sliding>
      </ion-list>

      <ion-list class="c-list--skeleton" *ngIf="allFavorites?.length === 0">
        <ion-item lines="none" *ngFor="let i of numItemsSkeleton | fill">
          <ion-avatar slot="start">
            <ion-skeleton-text animated></ion-skeleton-text>
          </ion-avatar>
          <ion-label>
            <h2>
              <ion-skeleton-text animated style="width: 40%"></ion-skeleton-text>
            </h2>
            <p>
              <ion-skeleton-text animated style="width: 80%"></ion-skeleton-text>
            </p>
          </ion-label>
        </ion-item>
      </ion-list>
    </ion-col>
  </ion-row>
</ion-grid>